---
import { links } from "@/const/Links";
---

<nav class="bg-white px-5 h-20 lg:h-25 absolute w-full top-0 left-0 z-50">
  <div
    class="container mx-auto flex items-center lg:items-end h-full lg:pb-5 justify-between"
  >
    <!-- Logo -->
    <a
      href="#"
      class="text-xl sm:text-2xl font-bold text-gray-800 lg:flex-1 lg:order-2 text-center"
    >
      ERRE Recubrimientos
    </a>

    <!-- Botón Hamburguesa -->
    <button
      id="menu-btn"
      class="lg:hidden relative w-6 h-6 flex flex-col justify-center items-center"
    >
      <span
        class="block w-6 h-0.5 bg-black transition-all duration-300 ease-in-out"
      ></span>
      <span
        class="block w-6 h-0.5 bg-black transition-all duration-300 ease-in-out my-1"
      ></span>
      <span
        class="block w-6 h-0.5 bg-black transition-all duration-300 ease-in-out"
      ></span>
    </button>

    <!-- Menú Desktop -->
    <ul class="hidden lg:flex space-x-6 lg:order-1 lg:flex-1 lg:justify-center">
      {
        links.map((link) => (
          <li>
            <a
              href={link.url}
              class="link-desktop uppercase font-light text-base relative"
            >
              {link.text}
            </a>
          </li>
        ))
      }
    </ul>

    <!-- Botón Desktop -->
    <div class="hidden lg:order-3 lg:flex-1 lg:flex lg:justify-center">
      <a href="#" class="bg-secondary px-3 py-1.5 text-white lg:text-lg">
        Contrátanos
      </a>
    </div>
  </div>

  <!-- Menú Mobile -->
  <div
    id="mobile-menu"
    class="lg:hidden absolute left-0 top-full w-full bg-white shadow-lg
           overflow-hidden max-h-0 opacity-0
           transition-all duration-300 ease-in-out"
  >
    <ul class="flex flex-col p-5 space-y-4">
      {
        links.map((link) => (
          <li>
            <a href={link.url} class="uppercase text-sm font-light">
              {link.text}
            </a>
          </li>
        ))
      }
      <li class="flex justify-center w-full mt-3">
        <a
          href="#"
          class="bg-secondary w-full px-3 py-2 text-center text-white inline-block"
        >
          Contrátanos
        </a>
      </li>
    </ul>
  </div>
</nav>

<script>
  const btn = document.getElementById("menu-btn");
  const menu = document.getElementById("mobile-menu");
  const spans = btn?.querySelectorAll("span") as NodeListOf<HTMLSpanElement>;

  btn?.addEventListener("click", () => {
    menu?.classList.toggle("max-h-0");
    menu?.classList.toggle("max-h-96");
    menu?.classList.toggle("opacity-0");
    menu?.classList.toggle("opacity-100");

    btn.classList.toggle("open");

    if (btn.classList.contains("open")) {
      spans[0].classList.add("translate-y-1.5", "rotate-45");
      spans[1].classList.add("opacity-0");
      spans[2].classList.add("-translate-y-1.5", "-rotate-45");
    } else {
      spans[0].classList.remove("translate-y-1.5", "rotate-45");
      spans[1].classList.remove("opacity-0");
      spans[2].classList.remove("-translate-y-1.5", "-rotate-45");
    }
  });
</script>
